<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>用户管理</title>
        <!-- 引入 layui.css -->
        <link rel="stylesheet" href="../../layui/css/layui.css" />
        <!-- 引入 layui.js -->
        <script src="../../layui/layui.js"></script>
        <!-- 引入公共工具 -->
        <link rel="stylesheet" href="style.css" />
        <script src="../../common/api-config.js"></script>
        <script src="../../common/auth-utils.js"></script>
    </head>
    <body>
        <!-- 核心页面 -->
        <div class="search-container">
            <div class="page-title">用户管理中心</div>
            <div class="search-header">
                <input type="text" class="search-input" placeholder="搜索用户... (支持用户名搜索)" id="searchInput" autocomplete="off" maxlength="24" />
                <button type="button" class="add-btn" id="addBtn">新增用户</button>
                <button type="button" class="back-btn" id="backBtn">返回书签</button>
                <button type="button" class="logout-btn" id="logoutBtn">登出</button>
            </div>
            <div class="search-stats" id="searchStats">共 0 个用户</div>
            <div class="search-results" id="searchResults">
                <div class="no-results">加载中...</div>
            </div>
        </div>
        <!-- 核心页面 -->

        <!-- 删除确认弹窗 -->
        <div id="deleteModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">确认删除</div>
                <div class="modal-text">确定要删除这个用户吗？此操作不可撤销。</div>
                <div class="form-group">
                    <label class="form-label">请输入删除口令：</label>
                    <input type="password" id="deletePassword" class="form-input" placeholder="请输入口令" />
                </div>
                <div class="modal-actions">
                    <button type="button" class="modal-btn btn-secondary" onclick="closeDeleteModal()">取消</button>
                    <button type="button" class="modal-btn btn-danger" onclick="confirmDelete()">删除</button>
                </div>
            </div>
        </div>
        <!-- 删除确认弹窗 -->

        <!-- 编辑用户弹窗 -->
        <div id="editModal" class="modal">
            <div class="modal-content edit-modal-content">
                <div class="modal-header">编辑用户</div>
                <div class="form-group">
                    <label class="form-label">用户名（最多 12 个字符）：</label>
                    <input type="text" id="editName" class="form-input" placeholder="请输入用户名" maxlength="12" />
                </div>
                <div class="form-group">
                    <label class="form-label">密码（最多 20 个字符）：</label>
                    <input type="password" id="editPassword" class="form-input" placeholder="请输入密码" maxlength="20" />
                </div>
                <div class="form-group">
                    <label class="form-label">权限：</label>
                    <select id="editPermission" class="form-input">
                        <option value="2">普通用户</option>
                        <option value="1">管理员</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="modal-btn btn-secondary" onclick="closeEditModal()">取消</button>
                    <button type="button" class="modal-btn btn-primary" onclick="saveUser()">保存</button>
                </div>
            </div>
        </div>
        <!-- 编辑用户弹窗 -->

        <script src="main.js"></script>
    </body>
</html>
