System.register("chunks:///_virtual/CCFlopCard.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,s,h,c,d,p,u,l,_,g,f,y,m,w,S,v,C,k,F,z,T,x,M,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.createClass,r=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){h=t.cclegacy,c=t._decorator,d=t.Enum,p=t.Size,u=t.Mask,l=t.Node,_=t.Sprite,g=t.v3,f=t.UITransform,y=t.view,m=t.Layers,w=t.v2,S=t.Vec2,v=t.Vec3,C=t.size,k=t.math,F=t.Rect,z=t.DynamicAtlasManager,T=t.RenderTexture,x=t.Component,M=t.resources,b=t.SpriteFrame}],execute:function(){var P,D,B,N,V,R,A,E,O,I,L,U,j,H,Q,W,q,J,X,Y,G,Z,K,$;h._RF.push({},"392eaIQdZJI2oCBx+7Wm0qo","CCFlopCard",void 0);var tt=c.ccclass,et=c.property,it=c.executeInEditMode,nt=function(t){return t[t.horizontal=1]="horizontal",t[t.vertical=2]="vertical",t}(nt||{});t("CCFlopCard",(P=tt("CCFlopCard"),D=et({type:d(nt),tooltip:"原始扑克牌纹理的方向"}),B=et({type:d(nt),tooltip:"搓牌时扑克牌纹理的方向"}),N=et({type:p,tooltip:"设置扑克牌的大小"}),V=et({type:u}),R=et({type:l}),A=et({type:l}),E=et({type:u}),O=et({type:l}),I=et({type:l}),L=et({type:l}),P(U=it((($=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"_originalDir",H,o(e)),r(e,"_dirType",Q,o(e)),r(e,"_cardSize",W,o(e)),r(e,"mask",q,o(e)),r(e,"cardBack",J,o(e)),r(e,"cardFace",X,o(e)),r(e,"shadowMask",Y,o(e)),r(e,"shadow",G,o(e)),r(e,"icon_1",Z,o(e)),r(e,"icon_2",K,o(e)),e.directionLength=5,e.moveSpeed=.5,e.angleFixed=10,e.determinationValue=.5,e._isOpenCard=!1,e._isMoveStart=!1,e._tStartPos=void 0,e._tMoveVec=void 0,e._rotation=0,e._finishCallBack=void 0,e}i(e,t);var h=e.prototype;return h.setDirType=function(){var t=this._dirType!=this.originalDirType,e=this.cardBack.getComponent(_),i=e.spriteFrame;e.spriteFrame=null,this._setSpriteFrameRotate(i,t),e.spriteFrame=i,i=(e=this.cardFace.getComponent(_)).spriteFrame,e.spriteFrame=null,this._setSpriteFrameRotate(i,t),e.spriteFrame=i,i=(e=this.icon_1.getComponent(_)).spriteFrame,e.spriteFrame=null,this._setSpriteFrameRotate(i,t),e.spriteFrame=i,this._dirType==nt.vertical?this.icon_1.setPosition(g(-149.5,-117.5)):this.icon_1.setPosition(g(114.5,-149.5)),i=(e=this.icon_2.getComponent(_)).spriteFrame,e.spriteFrame=null,this._setSpriteFrameRotate(i,t),e.spriteFrame=i,this._dirType==nt.vertical?this.icon_2.setPosition(g(149.5,114.5)):this.icon_2.setPosition(g(-114.5,149.5)),this.init()},h.setFinishCallBack=function(t){this._finishCallBack=t},h.resetInEditor=function(){this.node.destroyAllChildren(),this._initNodes()},h._initNodes=function(){if(!this.node.getChildByName("mask")){if(this.node.getComponent(f)){var t=y.getDesignResolutionSize();this.setTouchAreaSize(t),console.log("_initNodes, view size",t)}this.mask=new l("mask").addComponent(u),this.mask.node.layer=m.Enum.UI_2D,this.node.addChild(this.mask.node),this.cardBack=new l("cardBack"),this.cardBack.layer=m.Enum.UI_2D,e(this.cardBack),this.mask.node.addChild(this.cardBack),this.cardFace=new l("cardFace"),this.cardFace.layer=m.Enum.UI_2D,e(this.cardFace),this.mask.node.addChild(this.cardFace),this.icon_1=new l("icon_1"),this.icon_1.layer=m.Enum.UI_2D,e(this.icon_1),this.cardFace.addChild(this.icon_1),this.icon_2=new l("icon_2"),this.icon_2.layer=m.Enum.UI_2D,e(this.icon_2),this.cardFace.addChild(this.icon_2),this.shadowMask=new l("shadowMask").addComponent(u),this.shadowMask.node.layer=m.Enum.UI_2D,this.shadowMask.type=u.Type.SPRITE_STENCIL,this.shadowMask.alphaThreshold=.1,this.cardFace.addChild(this.shadowMask.node),this.shadow=new l("shadow"),this.shadow.layer=m.Enum.UI_2D,e(this.shadow),this.shadow.parent=this.shadowMask.node,this.shadow.getComponent(f).setAnchorPoint(0,.5)}function e(t){var e=t.addComponent(_);return e.sizeMode=_.SizeMode.CUSTOM,e}},h.onLoad=function(){null==this.node.getChildByName("mask")&&this._initNodes()},h.start=function(){this.node.on(l.EventType.TOUCH_START,this._touchStart,this),this.node.on(l.EventType.TOUCH_MOVE,this._touchMove,this),this.node.on(l.EventType.TOUCH_END,this._touchEnd,this)},h.init=function(){this._cardSize||(this._cardSize=this.cardBack.getComponent(f).contentSize),this._initCardNode(this.mask.node,this._cardSize,this.dirType!=this.originalDirType),this._initCardNode(this.cardBack,this._cardSize,this.dirType!=this.originalDirType),this._initCardNode(this.cardFace,this._cardSize,this.dirType!=this.originalDirType),this._initCardNode(this.shadowMask.node,this._cardSize,this.dirType!=this.originalDirType),this.cardFace.setPosition(-this.mask.node.getComponent(f).width,0),this.shadow.setRotation(this.shadow.rotation.x,this.shadow.rotation.y,0,this.shadow.rotation.w),this.shadow.getComponent(f).width=40,this.shadow.getComponent(f).height=2*Math.sqrt(Math.pow(this._cardSize.height,2)+Math.pow(this._cardSize.width,2));var t=this.cardFace.getComponent(f).width/2+this.shadowMask.node.getComponent(f).width/2,e=this.cardFace.getComponent(f).height/2+this.shadowMask.node.getComponent(f).height/2;this.shadow.setPosition(t,e),this._initStatus()},h._initStatus=function(){this._isOpenCard=!1,this._isMoveStart=!1,this._rotation=0},h._touchStart=function(t){this._isOpenCard||(this._tStartPos=t.getLocation())},h._touchMove=function(t){if(!this._isOpenCard&&this._tStartPos){var e=t.getLocation(),i=t.getPreviousLocation();if(!e.equals(i)){var n=this.subtractVectors(e,this._tStartPos),r=this.subtractVectors(e,i),o=n.length();if(0==this._isMoveStart&&o>=this.directionLength){this._isMoveStart=!0,this._tMoveVec=this._fixedDirection(n),this._rotation=this._getSignAngle(this._tMoveVec,w(1,0)),this._rotation=-this._rotation;var a=this._getOutRectSize(this.cardBack,this._rotation);this.mask.node.getComponent(f).contentSize=a,this.mask.node.eulerAngles=g(0,0,this._rotation),this.cardBack.eulerAngles=g(0,0,-this._rotation),this.cardFace.eulerAngles=g(0,0,this._rotation),this.shadow.eulerAngles=g(0,0,-this._rotation);var s=this._getQuadrant(this._tMoveVec),h=this._getNodeVertexByNodeSpaceAR(this.cardFace);switch(s){case 1:case 5:this.cardFace.setPosition(-this.mask.node.getComponent(f).contentSize.width,this.cardBack.getPosition().y),this.shadow.setPosition(g(h[2].x,h[2].y));break;case 2:case 6:this.cardFace.setPosition(-this.mask.node.getComponent(f).contentSize.width,-this.cardBack.getPosition().y),this.shadow.setPosition(h[3].x,h[3].y);break;case 3:case 7:this.cardFace.setPosition(-this.mask.node.getComponent(f).contentSize.width,-this.cardBack.getPosition().y),this.shadow.setPosition(h[0].x,h[0].y);break;case 4:case 8:this.cardFace.setPosition(-this.mask.node.getComponent(f).contentSize.width,this.cardBack.getPosition().y),this.shadow.setPosition(h[1].x,h[1].y);break;default:this._isMoveStart=!1}}else if(this._isMoveStart){var c=r.project(w(this._tMoveVec)),d=this.negateVector(c);if(0==c.length())return;var p=this.moveSpeed;this._moveByVec2(this.mask.node,c,p),this._moveByVec2(this.cardBack,d,p),this._moveByVec2(this.cardFace,c,p),this._moveByVec2(this.shadow,d,p),this._canOpen()&&this.openCard(),c.x*this._tMoveVec.x<=0&&c.y*this._tMoveVec.y<=0&&0==o&&(this._touchEnd(),this._tStartPos=void 0)}}}},h.subtractVectors=function(t,e){if(t instanceof S&&e instanceof S)return new S(t.x-e.x,t.y-e.y);if(t instanceof v&&e instanceof v)return new v(t.x-e.x,t.y-e.y,t.z-e.z);throw new Error("Invalid vector type")},h.negateVector=function(t){if(t instanceof S)return new S(-t.x,-t.y);if(t instanceof v)return new v(-t.x,-t.y,-t.z);throw new Error("Invalid vector type")},h._touchEnd=function(t){!this._isOpenCard&&this._tStartPos&&this.init()},h._canOpen=function(){return this._getMoveLength()>this._getMoveMaxLength()*this.determinationValue},h._getMoveLength=function(){return this.mask.node.getPosition().length()},h._getMoveMaxLength=function(){return this.mask.node.getComponent(f).width},h.openCard=function(){this.init(),this.cardFace.setPosition(0,0),this._isOpenCard=!0,"function"==typeof this._finishCallBack&&this._finishCallBack()},h.resetCard=function(){this._isOpenCard=!1;var t=this.node.getComponent(f).contentSize;this.cardFace.setPosition(-t.width,0)},h._getOutRectSize=function(t,e){(e=Math.abs(e))>90&&e<=180&&(e=180-e);var i=t.getComponent(f),n=Math.PI/180*e,r=i.height*Math.sin(n)+i.width*Math.cos(n),o=i.height*Math.cos(n)+i.width*Math.sin(n);return C(r,o)},h._moveByVec2=function(t,e,i){void 0===i&&(i=1);var n=t.parent.getComponent(f).convertToWorldSpaceAR(t.getPosition()),r=w(n.x+e.x*i,n.y+e.y*i),o=t.parent.getComponent(f).convertToNodeSpaceAR(g(r.x,r.y));t.setPosition(o)},h._getSignAngle=function(t,e){var i=t.signAngle(e);return 180/Math.PI*i},h._fixedDirection=function(t){if(this.angleFixed){var e=this.angleFixed,i=w(1,0),n=this._getSignAngle(t,i);if(n<=e+0&&n>=0-e||n<=e+-180||n>=180-e)return t=t.project(i);var r=w(0,1);if((n=this._getSignAngle(t,r))<=e+0&&n>=0-e||n<=e+-180||n>=180-e)return t=t.project(r)}return t},h._getNodeVertexByWorldSpaceAR=function(t,e){void 0===e&&(e=0);for(var i=this._getNodeVertexByNodeSpaceAR(t,e),n=0;n<i.length;n++){var r=t.getComponent(f).convertToWorldSpaceAR(g(i[n].x,i[n].y));i[n].x=r.x,i[n].y=r.y}return i},h._getNodeVertexByNodeSpaceAR=function(t,e){void 0===e&&(e=0);var i=t.getComponent(f),n=i.width*i.anchorX+e,r=i.width*(1-i.anchorX)+e,o=i.height*i.anchorY+e,a=i.height*(1-i.anchorY)+e;return[w(-n,a),w(r,a),w(r,-o),w(-n,-o)]},h._getQuadrant=function(t){var e=t.x,i=t.y;if(0==e){if(0==i)return 9;if(i>0)return 6;if(i<0)return 8}else if(e>0){if(0==i)return 5;if(i>0)return 1;if(i<0)return 4}else if(e<0){if(0==i)return 7;if(i>0)return 2;if(i<0)return 3}return console.error("参数错误::"+JSON.stringify(t)),0},h._initCardNode=function(t,e,i){e&&(this.dirType!=this.originalDirType?t.getComponent(f).contentSize=new p(e.height,e.width):t.getComponent(f).contentSize=e,t.rotation=new k.Quat(t.rotation.x,t.rotation.y,0,t.rotation.w),t.setPosition(0,0))},h._getSize=function(t,e){return null==t?C(0,0):t instanceof p?t:C(t,null!=e?e:t)},h._loadSpriteFrameSync=function(){var t=a(s().mark((function t(e){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=M.get(e,b))){t.next=3;break}return t.abrupt("return",i);case 3:return t.abrupt("return",new Promise((function(t,i){M.load(e+"/spriteFrame",b,(function(e,i){t(i)}))})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h._setNodeSpriteFrame=function(){var t=a(s().mark((function t(e,i,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=!1),"string"!=typeof i){t.next=5;break}return t.next=4,this._loadSpriteFrameSync(i);case 4:i=t.sent;case 5:if(null!=i){t.next=7;break}return t.abrupt("return");case 7:return this._setSpriteFrameRotate(i,n),e.getComponent(_).spriteFrame==i&&(e.getComponent(_).spriteFrame=null),e.getComponent(_).spriteFrame=i,t.abrupt("return",i);case 12:case"end":return t.stop()}}),t,this)})));return function(e,i,n){return t.apply(this,arguments)}}(),h._setSpriteFrameRotate=function(t,e){if(!t)return!1;if(t.rotated!=e){var i,n=t.rect;if(0==t.texture.isValid)return!1;i=new F(n.x,n.y,n.height,n.width),t.rect=i;var r=t.originalSize,o=C(r.height,r.width);return t.originalSize=o,t.rotated=e,!0}return!1},h._checkDynamicAtlas=function(t){var e=z.instance;return 0!=e.enabled&&(t instanceof T&&t.width==e.textureSize&&t.height==e.textureSize)},h.setTouchAreaSize=function(t,e){var i=this._getSize(t,e);this.node.getComponent(f).contentSize=i},h.setCardSize=function(t,e){var i=this._getSize(t,e);this._cardSize=i,this.dirType!=this.originalDirType&&(i=C(i.height,i.width)),this.mask.node.getComponent(f).contentSize=i,this.cardBack.getComponent(f).contentSize=i,this.cardFace.getComponent(f).contentSize=i,this.shadowMask.node.getComponent(f).contentSize=i},h.setCardBack=function(){var t=a(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._setNodeSpriteFrame(this.cardBack,e,this.dirType!=this.originalDirType);case 2:e=t.sent,this.shadowMask.node.getComponent(_).spriteFrame=e,this.shadowMask.type=u.Type.SPRITE_STENCIL,this.shadowMask.alphaThreshold=.1;case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),h.setCardFace=function(){var t=a(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._setNodeSpriteFrame(this.cardFace,e,this.dirType!=this.originalDirType);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),h.setShadow=function(){var t=a(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._setNodeSpriteFrame(this.shadow,e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),h.setCardValue=function(){var t=a(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._setNodeSpriteFrame(this.icon_1,e);case 2:return t.next=4,this._setNodeSpriteFrame(this.icon_2,e);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n(e,[{key:"originalDirType",get:function(){return this._originalDir},set:function(t){this._originalDir!=t&&(this._originalDir=t)}},{key:"dirType",get:function(){return this._dirType},set:function(t){t!=this.dirType&&(this._dirType=t),this.setDirType()}},{key:"cardSize",get:function(){return this._cardSize},set:function(t){this.node.getComponent(f).setContentSize(t),this.setCardSize(t),this.init()}}]),e}(x)).DirType=nt,H=e((j=$).prototype,"_originalDir",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nt.vertical}}),e(j.prototype,"originalDirType",[D],Object.getOwnPropertyDescriptor(j.prototype,"originalDirType"),j.prototype),Q=e(j.prototype,"_dirType",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nt.vertical}}),e(j.prototype,"dirType",[B],Object.getOwnPropertyDescriptor(j.prototype,"dirType"),j.prototype),W=e(j.prototype,"_cardSize",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C(0,0)}}),e(j.prototype,"cardSize",[N],Object.getOwnPropertyDescriptor(j.prototype,"cardSize"),j.prototype),q=e(j.prototype,"mask",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),J=e(j.prototype,"cardBack",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),X=e(j.prototype,"cardFace",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Y=e(j.prototype,"shadowMask",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),G=e(j.prototype,"shadow",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Z=e(j.prototype,"icon_1",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),K=e(j.prototype,"icon_2",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),U=j))||U)||U));h._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Canvas,g=t.UITransform,h=t.instantiate,p=t.Label,c=t.Color,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[c.WHITE,c.BLACK,c.RED,c.GREEN,c.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(a)){var t=this.node.parent.getComponent(g),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=h(s);l.parent=this.node,l.name="Buttons";var r=h(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=h(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(p);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=c.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?h(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(p);this.labelComponentList[this.labelComponentList.length]=S;var x=h(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(p)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=h(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(p)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=h(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?h(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./CCFlopCard.ts","./main.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCFlopCard.ts"],(function(t){var e,r,n,i,a,s,o,c,p,u,l,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,c=t._decorator,p=t.Node,u=t.Label,l=t.Component,d=t.size},function(t){f=t.CCFlopCard}],execute:function(){var h,C,v,y,m,g,D,F,_;o._RF.push({},"7c12dt88SlFv4B2itvg9Nqu","main",void 0);var x=c.ccclass,w=c.property;t("main",(h=x("main"),C=w({type:p}),v=w({type:u}),y=w({type:u}),h((D=e((g=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"FlopCard",D,i(e)),n(e,"Desc",F,i(e)),n(e,"sliderValue",_,i(e)),e.flopCard=null,e}r(e,t);var o=e.prototype;return o.onLoad=function(){},o.start=function(){var t=a(s().mark((function t(){var e,r=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.FlopCard.active=!1,e=this.nodeAddComponent(this.FlopCard,f),this.flopCard=e,t.next=5,e.setCardBack("common/card_back");case 5:return t.next=7,e.setShadow("common/shadow");case 7:return t.next=9,e.setCardFace("cards/card_12");case 9:return t.next=11,e.setCardValue("icons/card_small_29");case 11:this.Desc.string="搓牌...",e.setCardSize(d(400,280)),e._originalDir=e._dirType=f.DirType.vertical,e.dirType=f.DirType.vertical,e.setTouchAreaSize(d(1280,720)),e.directionLength=10,e.moveSpeed=.5,e.angleFixed=5,e.determinationValue=.4,this.FlopCard.active=!0,e.setFinishCallBack((function(){r.Desc.string="搓牌完成"})),e.init();case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.nodeAddComponent=function(t,e){var r;return null!=(r=t.getComponent(e))?r:t.addComponent(e)},o.update=function(t){},o.onBtnDir=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.flopCard.dirType=this.flopCard.dirType==f.DirType.horizontal?f.DirType.vertical:f.DirType.horizontal,this.Desc.string="切换方向, OK";case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onBtnOpen=function(){this.flopCard.openCard(),this.Desc.string="直接开牌, OK"},o.onBtnReset=function(){this.flopCard.resetCard(),this.Desc.string="完成重置"},o.onBtnA=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.FlopCard.active=!1,t.next=3,this.flopCard.setCardFace("cards/card_33");case 3:return t.next=5,this.flopCard.setCardValue("icons/card_small_33");case 5:this.flopCard.setDirType(),this.FlopCard.active=!0,this.Desc.string="搓牌...";case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onBtnK=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.FlopCard.active=!1,t.next=3,this.flopCard.setCardFace("cards/card_29");case 3:return t.next=5,this.flopCard.setCardValue("icons/card_small_29");case 5:this.flopCard.setDirType(),this.FlopCard.active=!0,this.Desc.string="搓牌...";case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onBtn9=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.FlopCard.active=!1,t.next=3,this.flopCard.setCardFace("cards/card_9");case 3:return t.next=5,this.flopCard.setCardValue("icons/card_small_9");case 5:this.flopCard.setDirType(),this.FlopCard.active=!0,this.Desc.string="搓牌...";case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onSlider=function(t,e){var r=100*t.progress;r<20&&(r=20),this.sliderValue.string=r.toFixed(2)+"%",this.flopCard.determinationValue=r/100},e}(l)).prototype,"FlopCard",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),F=e(g.prototype,"Desc",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),_=e(g.prototype,"sliderValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),m=g))||m));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});